@defer (on viewport) {
  <article
  class="flex flex-row gap-4 p-4 border rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300 md:min-w-[24rem] h-48"
  [matTooltip]="title()"
>
  <figure class="w-1/3 flex-shrink-0 h-full overflow-hidden rounded-md flex items-center">
    <img
      loading="lazy"
      [src]="imageUrl()"
      alt="Portada del libro"
      title="Portada del libro"
      class="w-full h-auto object-cover"
    />
  </figure>
  <section class="flex flex-col gap-2 justify-center flex-1 min-w-0">
    <h3 class="font-bold text-xl text-balance truncate">{{ title() }}</h3>
    <p class="font-medium text-md">{{ category() }}</p>
    <div class="flex flex-row justify-between items-center mt-2">
      <p class="font-semibold text-lg">{{ price() }}</p>
      <ui-rating [rating]="rating()" />
    </div>
    <p class="text-sm mt-1">{{ stock() }}</p>
  </section>
</article>
} @placeholder (minimum 500ms) {
  <article
    class="flex flex-row gap-4 p-4 border rounded-lg shadow-sm animate-pulse md:min-w-[24rem]"
  >
    <figure class="w-1/3 flex-shrink-0">
      <div class="w-full h-48 bg-gray-300 rounded-md"></div>
    </figure>
    <section class="flex flex-col gap-3 justify-center w-2/3">
      <div class="h-6 bg-gray-300 rounded w-3/4"></div>
      <div class="h-4 bg-gray-300 rounded w-1/2"></div>
      <div class="flex flex-row justify-between items-center mt-2">
        <div class="h-6 bg-gray-300 rounded w-1/4"></div>
        <div class="h-6 bg-gray-300 rounded w-1/3"></div>
      </div>
      <div class="h-4 bg-gray-300 rounded w-1/2 mt-1"></div>
    </section>
  </article>
}
